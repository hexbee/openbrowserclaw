@import "tailwindcss";
@plugin "daisyui" {
  themes: light --default, dark --prefersdark;
}
@plugin "@tailwindcss/typography";

/* ---- Full-height app shell ---- */
@layer base {
  html, body, #app {
    height: 100%;
    height: 100dvh;
    width: 100%;
    background-color: var(--color-base-100);
  }
}

/* ---- Typing dots animation ---- */
@keyframes typing-bounce {
  0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
  30% { transform: translateY(-4px); opacity: 1; }
}
.typing-dot {
  animation: typing-bounce 1.4s infinite;
  @apply inline-block w-2 h-2 rounded-full bg-primary;
}
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

/* ---- Chat textarea auto-sizing ---- */
.chat-textarea {
  field-sizing: content;
  min-height: 2.5rem;
  max-height: 12rem;
  resize: none;
}

/* ---- iOS safe area ---- */
@supports (padding: env(safe-area-inset-top)) {
  .safe-area-top { padding-top: env(safe-area-inset-top); }
  .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }
}

/* ---- Markdown inside chat bubbles ---- */
.chat-markdown {
  color: inherit;
  font-size: 0.875rem;
  line-height: 1.5;
  max-width: none;
  overflow-wrap: break-word;
}
.chat-markdown > :first-child { margin-top: 0; }
.chat-markdown > :last-child { margin-bottom: 0; }
.chat-markdown strong { font-weight: 700; }
.chat-markdown em { font-style: italic; }

/* ---- File viewer full-screen on mobile ---- */
@media (max-width: 640px) {
  .file-viewer-modal .modal-box {
    @apply w-full h-full max-w-full max-h-full rounded-none;
  }
}
